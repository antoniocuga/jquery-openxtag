var h=null;
(function(b){function l(a,f){return this.each(function(){var a=b(this),e=b.extend({},f);typeof b.metadata!="undefined"&&(e=b.extend(e,a.metadata()));m(e);var g=e.zoneID;g==h&&b.error('please set "zoneID" option for openxtag jsZone');var c=n(e);c.zoneid=g;c.cb=Math.floor(Math.random()*99999999999);document.MAX_used||(document.MAX_used=",");document.MAX_used!=","&&(c.exclude=document.MAX_used);if(document.context)c.context=document.context;document.a&&(c.mmm_fo=1);b.ajax({url:(location.protocol=="https:"?
e.deliverySSL:e.delivery)+"/"+e.jsTagScript,data:c,dataType:"html",async:e.forceAsync,success:function(b){o('<script type="text/javascript">'+b+"<\/script>",a)}})})}function o(a,f){var d=0;(function(a){if(a.match(/document\.write|<script/)){var g=document.write,c="";document.write=function(a){c+=a};f.append(a);document.write=g;d++;d>p&&b.error("openxtag: document.write loop stopped after "+p+" iterations");arguments.callee(c)}else f.append(a),typeof success=="function"&&setTimeout(success,0)})(a)}
function r(a,f,d,e){if(typeof f=="object"||typeof f=="function")e=d,d=f,f=h;typeof d=="function"&&(e=d,d=h);d=b.extend(i,d);f!=h&&(d.zoneID=f);return a.apply(this,[f,d,e])}function m(a){location.protocol=="https:"?typeof a.deliverySSL!="string"&&b.error('please set "deliverySSL" option for openxtag'):typeof a.delivery!="string"&&b.error('please set "delivery" option for openxtag')}function n(a){var b={charset:a.charset,target:a.target,source:a.source,extra:a.extra,loc:window.location.href};typeof a.block!=
"undefined"&&(b.block=a.block?1:0);typeof a.blockcampaign!="undefined"&&(b.blockcampaign=a.blockcampaign?1:0);if(document.referrer)b.referer=document.referrer;return b}var p=10,i={jsPrefix:"OA_",swfObjectJS:"fl.js",delivery:h,deliverySSL:h,jsTagScript:"ajs.php",spcTagScript:"spc.php",charset:"UTF-8",zoneID:h,target:void 0,source:void 0,blockcampaign:void 0,block:void 0,forceAsync:!1,extra:void 0},q={zone:l,jsZone:l,spc:function(a,f){var d={},e=0,g=this.each(function(){var a=b(this),c=b.extend({},
f);typeof b.metadata!="undefined"&&(c=b.extend(c,a.metadata()));c=c.zoneID;c==h&&b.error('please set "zoneID" option for openxtag jsZone');var g="z"+e;d[g]=c;a.data("openxtag",{zn:g});e++}),c=b.extend({},f);m(c);var j=n(c);j.zones=Object.keys(d).map(function(a){return a+"="+d[a]}).join("|");j.nz=1;j.r=Math.floor(Math.random()*99999999999);var i=this;b.ajax({url:(location.protocol=="https:"?c.deliverySSL:c.delivery)+"/"+c.spcTagScript,data:j,dataType:"html",async:c.forceAsync,success:function(a){b.getScript((location.protocol==
"https:"?c.deliverySSL:c.delivery)+"/"+c.swfObjectJS,function(){var d=eval("(function () {"+a+";return "+c.jsPrefix+"output;})()");i.each(function(){var a=b(this);o(d[a.data("openxtag").zn],a)})})}});return g}};b.fn.extend({openxtag:function(a){if(q[a])return r.apply(this,[q[a]].concat(Array.prototype.slice.call(arguments,1)));else b.error("Method "+a+" does not exist on jQuery.openxtag")}});var k={init:function(a){i=b.extend(i,a)}};b.extend({openxtag:function(a){if(k[a])return k[a].apply(this,Array.prototype.slice.call(arguments,
1));else if(typeof a==="object"||!a)return k.init.apply(this,arguments);else b.error("Method "+a+" does not exist on jQuery.openxtag")}})})(jQuery);
